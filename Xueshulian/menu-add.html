<!DOCTYPE html>
<html>


<!-- Mirrored from www.zi-han.net/theme/hplus/index_v2.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 20 Jan 2016 14:18:30 GMT -->

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>添加菜单</title>
    <meta name="keywords" content="H+后台主题,后台bootstrap框架,会员中心主题,后台HTML,响应式后台">
    <meta name="description" content="H+是一个完全响应式，基于Bootstrap3最新版本开发的扁平化主题，她采用了主流的左右两栏式布局，使用了Html5+CSS3等现代技术">
    <link rel="shortcut icon" href="favicon.ico">
    <link href="css/bootstrap.min14ed.css?v=3.3.6" rel="stylesheet">
    <link href="css/font-awesome.min93e3.css?v=4.4.0" rel="stylesheet">
    <!-- Morris -->
    <link href="css/plugins/morris/morris-0.4.3.min.css" rel="stylesheet">
    <!-- Gritter -->
    <link href="js/plugins/gritter/jquery.gritter.css" rel="stylesheet">
    <link href="css/animate.min.css" rel="stylesheet">
    <link href="css/style.min862f.css?v=4.1.0" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">

    <!-- fontIconPicker Style -->
    <link rel="stylesheet" type="text/css" href="jquery-fontIconPicker/css/jquery.fonticonpicker.min.css" />
    <link rel="stylesheet" type="text/css" href="jquery-fontIconPicker/themes/bootstrap-theme/jquery.fonticonpicker.bootstrap.min.css" />

    <link rel="stylesheet" type="text/css" href="font-awesome/css/font-awesome.min.css" />
    <!-- 弹窗样式 -->
    <link href="css/plugins/sweetalert/sweetalert.css" rel="stylesheet">
</head>

<body class="gray-bg">
    <div class="wrapper wrapper-content">
        <div class="row">

            <div class="col-sm-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">添加菜单</h3>
                    </div>
                    <div class="panel-body">
                        <div class="form">
                            <form class="cmxform form-horizontal tasi-form" id="signupForm" method="get" action="#" novalidate="novalidate">
                                <div class="form-group form-group1">
                                    <label for="firstname" class="control-label col-lg-2" s style="padding-left: 0; width:132px">
                                        父级菜单名称 
                                    </label>
                                    <div class="col-lg-10 col-sm-9  ">
                                        <input class="form-control" id="parent_x_id" name="Parent_x_id" type="text">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="firstname" class="control-label col-lg-2" s style="padding-left: 0; width:132px">
                                        <img src="img/star.png" alt="">菜单名称 
                                    </label>
                                    <div class="col-lg-10 col-sm-9  ">
                                        <input class="form-control" id="function_name" name="Function_name" type="text">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="firstname" class="control-label col-lg-2" s style="padding-left: 0; width:132px">
                                        <img src="img/star.png" alt="">菜单路径 
                                    </label>
                                    <div class="col-lg-10 col-sm-9  ">
                                        <input class="form-control" id="function_Url" name="Function_Url" type="text">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="firstname" class="control-label col-lg-2" s style="padding-left: 0; width:132px">
                                        排序值 
                                    </label>
                                    <div class="col-lg-10 col-sm-9  ">
                                        <input class="form-control" id="sort" name="Sort" type="text">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="firstname" class="control-label col-lg-2" s style="padding-left: 0; width:132px">
                                        <img src="img/star.png" alt="">菜单图标 
                                    </label>
                                    <div class="col-lg-10 col-sm-9  ">
                                        <input type="text" id="picker" name="picker"/>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="firstname" class="control-label col-lg-2" s style="padding-left: 0; width:132px">
                                        <img src="img/star.png" alt="">菜单状态 
                                    </label>
                                    <div class="col-lg-10 col-sm-9  ">
                                        <div class="onoffswitch">
                                            <input type="checkbox"  class="onoffswitch-checkbox" id="example1" >
                                            <label class="onoffswitch-label" for="example1">
                                                <span class="onoffswitch-inner"></span>
                                                <span class="onoffswitch-switch"></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-lg-offset-2 col-lg-10" style="text-align: center">
                                        <button class="btn btn-success waves-effect waves-light" type="button" id="subit">Save</button>
                                        <button class="btn btn-default waves-effect" type="button">Cancel</button>
                                    </div>
                                </div>


                            </form>
                        </div>
                        <!-- .form -->

                    </div>
                    <!-- panel-body -->
                </div>
                <!-- panel -->
            </div>
            <!-- col -->

        </div>
        <!-- End row -->
    </div>
    
    <script src="js/jquery.min.js?v=2.1.4"></script>
    <script src="js/bootstrap.min.js?v=3.3.6"></script>
    <script src="js/plugins/flot/jquery.flot.js"></script>
    <script src="js/plugins/flot/jquery.flot.tooltip.min.js"></script>
    <script src="js/plugins/flot/jquery.flot.spline.js"></script>
    <script src="js/plugins/flot/jquery.flot.resize.js"></script>
    <script src="js/plugins/flot/jquery.flot.pie.js"></script>
    <script src="js/plugins/peity/jquery.peity.min.js"></script>
    <script src="js/demo/peity-demo.min.js"></script>
    <script src="js/plugins/jquery-ui/jquery-ui.min.js"></script>
    <script src="js/plugins/gritter/jquery.gritter.min.js"></script>
    <script src="js/plugins/easypiechart/jquery.easypiechart.js"></script>
    <script src="js/plugins/sparkline/jquery.sparkline.min.js"></script>
    <script src="js/demo/sparkline-demo.min.js"></script>
    <script src="js/public.js"></script>
    <!-- 字体图标 -->
    <script type="text/javascript" src="jquery-fontIconPicker/jquery.fonticonpicker.min.js"></script>
    <script type="text/javascript" src="js/fa-icon-source.js" ></script>
    <!-- 弹窗 -->
    <script src="js/plugins/sweetalert/sweetalert.min.js"></script>
</body>

<script>
   

		

 

    // 图标插件
    $('#picker').fontIconPicker({
        source: fa_icons,
        searchSource: fa_icons,
        //useAttribute: true,
        theme: 'fip-bootstrap',
        //attributeName: 'data-icomoon',
        emptyIconValue: 'none',
    });

    // 添加父节点隐藏父节点名称
    $('.form-group1').hide();

    var checkbox = $('.onoffswitch-checkbox')

    // 获取图标的class名称
    var function_Icon = '';
    $(document).on('change','#picker',function(){
        function_Icon = $('.selected-icon i').attr("class").substring(3)
    })
       
    $("#subit").click(function () {
        // 获取当前时间
        var data = new Date();
        // 获取父节点id
        if($('#parent_x_id').val() == ''){
            $('#parent_x_id').val('0') ;
        }

        // 给状态开关赋值
        if(checkbox.is(':checked') == true){
            checkbox.val("1")
        }else{
            checkbox.val("0")
        }

        var parent_x_id = $('#parent_x_id').val();
        var function_name = $('#function_name').val();
        var function_Url = $('#function_Url').val();
        var function_Status = checkbox.val();
        var sort = $('#sort').val();
        var json = { 
            Parent_x_id:  parent_x_id,
            Function_name: function_name, 
            Function_Url: function_Url, 
            Function_Icon: function_Icon, 
            Function_Status: function_Status , 
            Sort: sort, 
            Create_By: "", 
            Create_Date: data
        };
        
        var url1 = "api/Menu/Menu_Add"
        var url2 = "menu-list.html"
        if( parent_x_id === '' || function_name === '' || function_Url === '' || function_Icon === '' || function_Status === '' || 
        sort === '' ){
            necessary()
        }else{
            console.log(json)
            ajax(json, url1, url2)
        }

           
           
       });
</script>

</html>